import"./style-ETqBUHLR.js";const s=localStorage.getItem("deliveryPersonId"),r=`https://sosika-backend.onrender.com/api/deliveryPerson/${s}`,l=async()=>{try{const n=await fetch(r);if(!n.ok)throw new Error("Failed to fectch delivery person details");const e=await n.json();console.log(e),document.getElementById("name").value=e.full_name,document.getElementById("phone").value=e.phone_number,document.getElementById("email").value=e.email,document.getElementById("loading-text").style.display="none",document.querySelector(".login-container").classList.remove("hidden")}catch(n){document.getElementById("loading-text").textContent="Error loading profile info.",console.error(n)}};document.getElementById("deliveryPerson-form").addEventListener("submit",async function(n){n.preventDefault();const e={};if(["name","phone","email"].forEach(t=>{const o=document.getElementById(t);o.value.trim()!==""&&(e[t]=o.value.trim())}),Object.keys(e).length===0){document.getElementById("message").textContent="No changes to update.",document.getElementById("message").style.color="red";return}try{const t=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await t.json();if(t.ok)document.getElementById("message").textContent="Profile updated successfully!",document.getElementById("message").style.color="green";else throw new Error(o.error||"Failed to update profile")}catch(t){document.getElementById("message").textContent=t.message,document.getElementById("message").style.color="red"}});l();
