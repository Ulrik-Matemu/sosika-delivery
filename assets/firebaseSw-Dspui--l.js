self.addEventListener("install",e=>{console.log("Firebase Messaging SW installing..."),self.skipWaiting()});self.addEventListener("activate",e=>(console.log("Firebase Messaging SW now active"),self.clients.claim()));try{importScripts("https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"),importScripts("https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js"),console.log("Firebase scripts successfully imported");const e={apiKey:"AIzaSyA_Jw-BGThGsqhB8_t5_AH6D9AL1YLCjK8",authDomain:"sosika-101.firebaseapp.com",projectId:"sosika-101",storageBucket:"sosika-101.firebasestorage.app",messagingSenderId:"827695672687",appId:"1:827695672687:web:85ce347456339ccfd80c9a",measurementId:"G-692C6RSH31"};try{firebase.initializeApp(e),console.log("Firebase successfully initialized in service worker"),firebase.messaging().onBackgroundMessage(s=>{var r,o;console.log("Received background message: ",s);const n=((r=s==null?void 0:s.notification)==null?void 0:r.title)||"New Notification",a=((o=s==null?void 0:s.notification)==null?void 0:o.body)||"",t="/sosika-delivery/icon.png";return self.registration.showNotification(n,{body:a,icon:t,badge:t})})}catch(i){console.error("Error initializing Firebase in service worker:",i)}}catch(e){console.error("Error importing Firebase scripts:",e)}self.addEventListener("message",e=>{console.log("Service worker received message:",e.data),e.data&&e.data.type==="PING"&&e.ports[0].postMessage("PONG")});self.addEventListener("fetch",e=>{});
